<f:layout name="Default" />

<f:section name="main">

	<!-- check if a frontend user is logged in -->
	<f:if condition="{loggedIn}">
		<f:then>

			<f:form action="create" controller="Registerkey" method="post">
				<f:form.hidden name="userName" value="{userName}"/>

				<label><f:translate key="extensionKey" />:</label>
				<f:form.textfield name="extensionKey" value="" /><br />

				<label><f:translate key="category" />:</label>
				<div class="category-container">
					<f:for each="{categories}" as="category">
						<f:form.checkbox name="categories[{category}]" value="{category}" /> <label>{category.title}</label>
						<br />
					</f:for>
				</div>

				<f:form.submit value="{f:translate(key: 'submit')}" />
			</f:form>

		</f:then>
		<f:else>
			Please log in to manage your extension or to register a new extension key.
		</f:else>
	</f:if>

	<br />
	<f:link.action action="manage">Manage your extension keys</f:link.action>

</f:section>