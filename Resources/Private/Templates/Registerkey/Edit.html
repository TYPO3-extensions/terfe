<f:layout name="Default" />

<f:section name="main">

	<!-- check if a frontend user is logged in -->
	<f:if condition="{loggedIn}">
		<f:then>

			<f:form action="update" controller="Registerkey" name="extension" object="{extension}">

				<label><f:translate key="extensionKey" />:</label>
				<f:form.textbox readonly="TRUE" property="extKey" /><br />

				<div class="category-container">
					<f:for each="{categories}" as="category">
						<f:form.checkbox name="categories[{category.object}]" value="{category.object}" checked="{category.isChecked}" /> {category.object.title}<br />
					</f:for>
				</div>

				<f:form.submit value="{f:translate(key: 'save')}" />

			</f:form>

		</f:then>
		<f:else>
			Please log in to manage your extension or to register a new extension key.
		</f:else>
	</f:if>
</f:section>